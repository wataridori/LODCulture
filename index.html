<html>
<head>
	<meta charset="utf-8">
	<title>LODCulture</title>
	<link href="jquery-ui/css/smoothness/jquery-ui-1.9.2.custom.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">    
	<script src="jquery-ui/js/jquery-1.8.3.js"></script>
	<script src="jquery-ui/js/jquery-ui-1.9.2.custom.js"></script>
        <script>
            $(function() {
                $("#searchBtn")
                    .button()
                    .click(function(event) {                            
                        var names = [];
                        $('#test input:checked').each(function() {
                            names.push(this.value);
                        });


                        if (!names.length) {
                            alert('no selected genre!');
                            return;
                        }

                        var querytext = [
                            'SELECT ?name ?long ?lat {',
                            '  ?s <http://data.tom.sfc.keio.ac.jp/property/gourmet_genre> \"' + names[0]+ '\" .',
                            '  ?s <http://www.w3.org/2000/01/rdf-schema#label> ?name .',
                            '  ?s <http://www.w3.org/2003/01/geo/wgs84_pos#long> ?long .',
                            '  ?s <http://www.w3.org/2003/01/geo/wgs84_pos#lat> ?lat .',
                            '} limit 20'
                        ].join('');

                        $.ajax({
                            url: "http://data.tom.sfc.keio.ac.jp/sparql",
                            data: {
                                query: querytext
                            },
                            dataType: 'jsonp',
                            jsonp: 'callback',
                            success: function(data){
                                console.log(data);
                            }
                        });

                        console.log(names);
                    });
            });
        </script>
</head>

<body>
    <div id = "container">
        <div id ="main">
            <div id = "searchPanel">
                <div id = "title">Fujisawa Holiday</div>
                <div id = "test">
                    <form>
                        <input type="checkbox" name="gerne" value="和食">和食<br>
                        <input type="checkbox" name="gerne" value="洋食">洋食<br>
                        <input type="checkbox" name="gerne" value="ラーメン">ラーメン<br>
                        <input type="checkbox" name="gerne" value="中華">中華料理<br>
                        <input type="checkbox" name="gerne" value="イタリアン">イタリア料理<br>
                        <input type="checkbox" name="gerne" value="居酒屋">飲酒屋<br>
                        <input type="checkbox" name="gerne" value="バー">バー<br>
                        <input type="checkbox" name="gerne" value="カフェ・スイーツ">カフェ・スイーツ<br>
                    </form>
                </div>
                <button id = "searchBtn">Search</button>
            </div>
            <div id = "resultPanel">
            <b>Result:</b><div id = "result"></div>
            <b> 名前</b><br>
            <b>写真</b><img src=""><br>
            <b>予算</b><br>
            <b>軽度</b><br>
            <b>緯度</b><br>
            <b>ジャンル</b><br>
            </div>
        </div>
    </div>
</body>

</html>
